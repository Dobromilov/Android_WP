# Android_WP
–î–æ–±—Ä–æ–º–∏–ª–æ–≤ –ê—Ä—Ç—ë–º –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á –ò–ö–°-433

# –ú–æ–¥–µ–ª—å –¥–≤–∏–∂–µ–Ω–∏—è Random Walk (–°–ª—É—á–∞–π–Ω—ã–µ –ë–ª—É–∂–¥–∞–Ω–∏—è)

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–æ–¥–µ–ª—å —Å–ª—É—á–∞–π–Ω—ã—Ö –±–ª—É–∂–¥–∞–Ω–∏–π (Random Walk) –≤ –¥–≤—É–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ Kotlin. –ú–æ–¥–µ–ª–∏—Ä—É–µ—Ç—Å—è –¥–≤–∏–∂–µ–Ω–∏–µ –ª—é–¥–µ–π –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.

## üßÆ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å

### –§–æ—Ä–º—É–ª—ã –¥–≤–∏–∂–µ–Ω–∏—è
–ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–∏–º —Ñ–æ—Ä–º—É–ª–∞–º:

```
x‚Çú‚Çä‚ÇÅ = x‚Çú + v √ó cos(Œ∏)
y‚Çú‚Çä‚ÇÅ = y‚Çú + v √ó sin(Œ∏)
```

–≥–¥–µ:
- `(x‚Çú, y‚Çú)` - —Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ t
- `v` - —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è
- `Œ∏` - —Å–ª—É—á–∞–π–Ω—ã–π —É–≥–æ–ª –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ [0, 2œÄ]

### –¢–µ–æ—Ä–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –±–ª—É–∂–¥–∞–Ω–∏–π
–ü–æ—Å–ª–µ N —à–∞–≥–æ–≤ —Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–∏:
```
R ‚âà v √ó ‚àöN
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤

```kotlin
interface Movable {
    var speed: Double
    var x: Double
    var y: Double
    fun move()
}

class Human : Movable {
    // –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
}

class Driver : Movable {
    // –î–≤–∏–∂–µ–Ω–∏–µ —Å —É–¥–≤–æ–µ–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
}
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Movable**: –û–±—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å–µ—Ö –¥–≤–∏–∂—É—â–∏—Ö—Å—è –æ–±—ä–µ–∫—Ç–æ–≤
- **–ö–ª–∞—Å—Å Human**: –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
- **–ö–ª–∞—Å—Å Driver**: –ù–∞—Å–ª–µ–¥–Ω–∏–∫ —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é –¥–≤–∏–∂–µ–Ω–∏—è (√ó2)
- **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**: –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤

## ‚ö° –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—É—Ç–∏–Ω
```kotlin
val jobs = humans.mapIndexed { index, human ->
    launch(Dispatchers.Default) {
        // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
        for (time in 1..5) {
            mutex.withLock {
                human.move()
            }
            delay(1000)
        }
    }
}
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **Mutex**: –ó–∞—â–∏—Ç–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ–∫—Ü–∏–π –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –¥–∞–Ω–Ω—ã—Ö
- **Dispatchers.Default**: –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä –¥–ª—è CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
```kotlin
val humans = listOf(
    Human("–í–ª–∞–¥", "–ü–æ–≥–æ—Ä–µ–ª–æ–≤", "–ë–∞—Ç—å–∫–æ–≤–∏—á", 9.0),
    Driver("–ê–ª–µ–∫—Å–µ–π", "–°–∏–¥–æ—Ä–æ–≤", "–í–∏–∫—Ç–æ—Ä–æ–≤–∏—á", 8.0, "Toyota")
)
```

### –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
```kotlin
fun main() = runBlocking {
    val jobs = humans.mapIndexed { index, human ->
        launch(Dispatchers.Default) {
            // –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
        }
    }
    jobs.joinAll()
}
```

## üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–í—Ä–µ–º—è: 1c 1): –í–ª–∞–¥ –ü–æ–≥–æ—Ä–µ–ª–æ–≤ –ë–∞—Ç—å–∫–æ–≤–∏—á move to (3.45, 7.89)
–í—Ä–µ–º—è: 1c 2): –†–æ–º–∞–Ω –ü–µ—Ç—Ä–æ–≤ –Æ—Ä—å–µ–≤–∏—á move to (-2.34, 5.67)
–í—Ä–µ–º—è: 1c 3): –ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞ move to (1.23, -4.56)
–í—Ä–µ–º—è: 1c 4): Driver - –ê–ª–µ–∫—Å–µ–π –°–∏–¥–æ—Ä–æ–≤ –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á on Toyota move to (10.00, 12.00)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main/kotlin/
‚îÇ   ‚îú‚îÄ‚îÄ main.kt          # –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Movable.kt       # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Movable
‚îÇ   ‚îú‚îÄ‚îÄ Human.kt         # –ö–ª–∞—Å—Å Human
‚îÇ   ‚îî‚îÄ‚îÄ Driver.kt        # –ö–ª–∞—Å—Å Driver
```

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—É—Ç–∏–Ω –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –û–û–ü.